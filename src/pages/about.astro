---
import BaseLayout from '../layouts/BaseLayout.astro';
import aboutData from '../data/about.json';
import siteData from '../data/site.json';

const pageTitle = `About Me | ${siteData.name}`;
const { intro, sections, timeline } = aboutData;
---

<BaseLayout title={pageTitle}>
  <section class="container mt-8">
    <h1 class="mb-8">About Me</h1>
    
    <div class="prose">
      <p class="intro">
        {intro}
      </p>
      
      {sections.map(section => (
          <>
            <h3>{section.title}</h3>
            <p set:html={section.content} />
          </>
      ))}

      <div class="timeline mt-8">
        <h3>Career Timeline</h3>
        {timeline.map(item => (
            <div class="timeline-item">
                <div class="date">{item.date}</div>
                <div class="content">
                    <h4>{item.role}</h4>
                    <p>{item.description}</p>
                </div>
            </div>
        ))}
      </div>

    </div>
  </section>
</BaseLayout>

<style>
  .intro {
    font-size: 1.25rem;
    line-height: 1.6;
    margin-bottom: var(--space-lg);
  }
  .prose {
    max-width: var(--max-width);
  }
  .timeline {
    border-left: 2px solid var(--color-border);
    padding-left: var(--space-md);
    margin-left: var(--space-sm);
  }
  .timeline-item {
    position: relative;
    padding-bottom: var(--space-lg);
  }
  .timeline-item::before {
    content: '';
    position: absolute;
    left: calc(-1 * var(--space-md) - 5px);
    top: 5px;
    width: 10px;
    height: 10px;
    border-radius: 50%;
    background: var(--color-accent);
    border: 2px solid var(--color-bg);
  }
  .date {
    font-size: 0.85rem;
    color: var(--color-text-muted);
    font-weight: 600;
  }
  .timeline-item h4 {
    margin: 0;
    font-size: 1.1rem;
  }
  .timeline-item p {
    margin: var(--space-sm) 0 0;
  }
</style>
